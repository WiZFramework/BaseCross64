/*!
@file RmManager.h
@brief 簡易物理計算マネージャ
@copyright Copyright (c) 2017 WiZ Tamura Hiroki,Yamanoi Yasushi.
*/

#pragma once
#include "stdafx.h"

namespace basecross {

	//--------------------------------------------------------------------------------------
	//	簡易物理計算マネージャ
	//--------------------------------------------------------------------------------------
	class RmManager : public GameObject {
		//拘束されているペアの配列
		vector<RmPair> m_ConstraintVec[2];
		//ペアスワップ
		unsigned int m_PairSwap;
		//1つ前のペアスワップ
		unsigned int m_BeforePairSwap;



		//--------------------------------------------------------------------------------------
		/*!
		@brief	StateをTransformから取得
		@return	なし
		*/
		//--------------------------------------------------------------------------------------
		void SetStateFromTrans();
	public:
		//--------------------------------------------------------------------------------------
		/*!
		@brief	コンストラクタ
		@param[in]	StagePtr	ステージ
		*/
		//--------------------------------------------------------------------------------------
		explicit RmManager(const shared_ptr<Stage>& StagePtr);
		//--------------------------------------------------------------------------------------
		/*!
		@brief	デストラクタ
		*/
		//--------------------------------------------------------------------------------------
		virtual ~RmManager();
		//--------------------------------------------------------------------------------------
		/*!
		@brief 初期化
		@return	なし
		*/
		//--------------------------------------------------------------------------------------
		virtual void OnCreate() override;
		//--------------------------------------------------------------------------------------
		/*!
		@brief 更新処理
		@return	なし
		*/
		//--------------------------------------------------------------------------------------
		virtual void OnUpdate() override;

		//--------------------------------------------------------------------------------------
		/*!
		@brief フォースの初期化
		@return	なし
		*/
		//--------------------------------------------------------------------------------------
		void InitForce();

	};


}
//end basecross
